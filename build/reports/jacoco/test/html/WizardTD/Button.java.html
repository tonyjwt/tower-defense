<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Button.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">scaffold</a> &gt; <a href="index.source.html" class="el_package">WizardTD</a> &gt; <span class="el_source">Button.java</span></div><h1>Button.java</h1><pre class="source lang-java linenums">package WizardTD;

/**
 * A class representing a button.
 */
public class Button {
        
    public float X;
    public float Y;
    public static final float WIDTH = 40;
    public static final float HEIGHT = 40;
    public static final float LABEL_X_OFFSET = 5;
    public static final float LABEL_Y_OFFSET = 30;
    public static final float DESC_X_OFFSET = 5 + WIDTH;
    public static final float DESC_Y_OFFSET = 16;

<span class="fc" id="L17">    public boolean hovered = false;</span>
<span class="fc" id="L18">    public boolean shouldHighlight = false;</span>

    public ButtonController.ButtonAction action;

    private String label;
    public String desc;

    private App app;
    
    /**
     * Initialise a Button object with the specified attributes.
     *
     * @param x The x-coordinate of the button's position.
     * @param y The y-coordinate of the button's position.
     * @param action The action associated with the button.
     * @param label The label text for the button.
     * @param desc The description text for the button.
     * @param app Instance of App
     */
<span class="fc" id="L37">    public Button(float x, float y, ButtonController.ButtonAction action, String label, String desc, App app) {</span>
<span class="fc" id="L38">        this.X = x;</span>
<span class="fc" id="L39">        this.Y = y;</span>
<span class="fc" id="L40">        this.action = action;</span>
<span class="fc" id="L41">        this.label = label;</span>
<span class="fc" id="L42">        this.desc = desc;</span>
<span class="fc" id="L43">        this.app = app;</span>
<span class="fc" id="L44">    }</span>

    /**
     * Draws a popup window for the button.
     */
    public void drawPopup() {
<span class="nc" id="L50">        app.strokeWeight(1);</span>
<span class="nc" id="L51">        app.stroke(0,0,0);</span>
<span class="nc" id="L52">        app.fill(255,255,255);</span>
<span class="nc" id="L53">        app.rect(X-82, Y, 67, 22);</span>
        
<span class="nc" id="L55">        app.textSize(13);</span>
<span class="nc" id="L56">        app.fill(0,0,0);</span>
<span class="nc" id="L57">    }</span>

    /**
     * Draws the button on the screen, considering its state (i.e. whether hovering over it; whether it is selected) and the associated action.
     */
    public void draw() {
<span class="nc bnc" id="L63" title="All 2 branches missed.">        if (action == ButtonController.ButtonAction.Pause) {</span>
<span class="nc bnc" id="L64" title="All 2 branches missed.">            if (app.paused) {</span>
<span class="nc" id="L65">                shouldHighlight = true;</span>
            } else {
<span class="nc" id="L67">                shouldHighlight = false;</span>
            }
<span class="nc bnc" id="L69" title="All 2 branches missed.">        } else if (action == ButtonController.ButtonAction.FastForward) {</span>
<span class="nc bnc" id="L70" title="All 2 branches missed.">            if (app.fastForward) {</span>
<span class="nc" id="L71">                shouldHighlight = true;</span>
            } else {
<span class="nc" id="L73">                shouldHighlight = false;</span>
            }
<span class="nc bnc" id="L75" title="All 2 branches missed.">        } else if (action == ButtonController.ButtonAction.Range) {</span>
<span class="nc bnc" id="L76" title="All 2 branches missed.">            if (app.rangeUpgradeSelected) {</span>
<span class="nc" id="L77">                shouldHighlight = true;</span>
            } else {
<span class="nc" id="L79">                shouldHighlight = false;</span>
            }
<span class="nc bnc" id="L81" title="All 2 branches missed.">        } else if (action == ButtonController.ButtonAction.Speed) {</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">            if (app.speedUpgradeSelected) {</span>
<span class="nc" id="L83">                shouldHighlight = true;</span>
            } else {
<span class="nc" id="L85">                shouldHighlight = false;</span>
            }
<span class="nc bnc" id="L87" title="All 2 branches missed.">        } else if (action == ButtonController.ButtonAction.Damage) {</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">            if (app.damageUpgradeSelected) {</span>
<span class="nc" id="L89">                shouldHighlight = true;</span>
            } else {
<span class="nc" id="L91">                shouldHighlight = false;</span>
            }
<span class="nc bnc" id="L93" title="All 2 branches missed.">        } else if (action == ButtonController.ButtonAction.Tower) {</span>
<span class="nc bnc" id="L94" title="All 2 branches missed.">            if (app.selectedAction == App.Action.Tower) {</span>
<span class="nc" id="L95">                shouldHighlight = true;</span>
            } else {
<span class="nc" id="L97">                shouldHighlight = false;</span>
            }
<span class="nc bnc" id="L99" title="All 2 branches missed.">        } else if (action == ButtonController.ButtonAction.Bomb) {</span>
<span class="nc bnc" id="L100" title="All 2 branches missed.">            if (app.selectedAction == App.Action.Bomb) {</span>
<span class="nc" id="L101">                shouldHighlight = true;</span>
            } else {
<span class="nc" id="L103">                shouldHighlight = false;</span>
            }
        } 

<span class="nc bnc" id="L107" title="All 8 branches missed.">        if ((app.mouseX &gt;= this.X) &amp;&amp; (app.mouseX &lt;= this.X + WIDTH) &amp;&amp; (app.mouseY &gt;= this.Y) &amp;&amp; (app.mouseY &lt;= this.Y + HEIGHT)) {</span>
<span class="nc" id="L108">            this.hovered = true;</span>
            
<span class="nc bnc" id="L110" title="All 3 branches missed.">            switch (action) {</span>
                case Tower:
<span class="nc" id="L112">                    drawPopup();</span>
<span class="nc" id="L113">                    app.text(&quot;Cost: &quot; + Integer.toString((int) Math.round(app.getBuildTowerCost())), X-78, Y+17);</span>
<span class="nc" id="L114">                    break;</span>
                case ManaPool:
<span class="nc" id="L116">                    drawPopup();</span>
<span class="nc" id="L117">                    app.text(&quot;Cost: &quot; + Integer.toString((int) Math.round(app.getManaPoolCost())), X-78, Y+17);</span>
<span class="nc" id="L118">                    break;</span>
            }
        } else {
<span class="nc" id="L121">            this.hovered = false;</span>
        }

<span class="nc" id="L124">        app.strokeWeight(3);</span>
<span class="nc" id="L125">        app.stroke(0, 0, 0);</span>
       
<span class="nc bnc" id="L127" title="All 2 branches missed.">        if (this.shouldHighlight) {</span>
<span class="nc" id="L128">            app.fill(255,255,0);</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">        } else if (this.hovered) {</span>
<span class="nc" id="L130">            app.fill(190,190,190);</span>
        } else {
<span class="nc" id="L132">            app.noFill();</span>
        }
        
<span class="nc" id="L135">        app.rect(X, Y, WIDTH, HEIGHT);</span>
<span class="nc" id="L136">        app.fill(0,0,0);</span>
<span class="nc" id="L137">        app.textSize(23);</span>
<span class="nc" id="L138">        app.text(label, X + LABEL_X_OFFSET, Y + LABEL_Y_OFFSET);</span>
<span class="nc" id="L139">        app.textSize(11);</span>

<span class="nc" id="L141">        String text = desc;</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">        if (action == ButtonController.ButtonAction.ManaPool) {</span>
<span class="nc" id="L143">            text = desc + Integer.toString((int) app.getManaPoolCost());</span>
        }
<span class="nc" id="L145">        app.text(text, X + DESC_X_OFFSET, Y + DESC_Y_OFFSET);</span>

<span class="nc" id="L147">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.9.202303310957</span></div></body></html>